<?xml version="1.0" encoding="utf-8"?>
<configuration>

    <system.webServer>
        <customErrors defaultRedirect="error.html" mode="RemoteOnly">
            <error statusCode="404" redirect="src/error.html"/>
        </customErrors>
        
    <httpErrors errorMode="Custom" existingResponse="Auto" defaultResponseMode="ExecuteURL" >
      <remove statusCode="404"/>
      <error statusCode="404" responseMode="ExecuteURL" path="src/error.html" />
    </httpErrors>
    <rewrite>
        <rules>
        <rule name="StaticContent">
            <action type="Rewrite" url="public{REQUEST_URI}"/>
        </rule>
        <rule name="Angular Routes" stopProcessing="true">
            <match url="help(.*)" ignoreCase="true" />
            <conditions logicalGrouping="MatchAll">
                <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
            </conditions>
            <action type="Rewrite" url="/*" />
        </rule>
        </rules>
    </rewrite>
    </system.webServer>

</configuration>